<?php
session_start();

// Jika user sudah login â†’ langsung ke dashboard
if (isset($_SESSION['login']) && $_SESSION['login'] === 1) {
    header("Location: dashboard.php");
    exit();
}
?>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Private Drive â€” Login</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">

    <style>
        body {
            transition: background 0.3s ease, color 0.3s ease;
        }

        .fade-in {
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Dark mode */
        .dark-mode {
            background: #0f172a;
            color: #e2e8f0;
        }
        .dark-card {
            background: #1e293b !important;
            color: #e2e8f0 !important;
        }
        .dark-input {
            background: #334155 !important;
            color: white !important;
            border-color: #475569 !important;
        }
    </style>
</head>

<body class="bg-gray-100 flex items-center justify-center min-h-screen">

    <!-- Tombol Dark Mode -->
    <div class="absolute top-5 right-5">
        <button onclick="toggleDarkMode()"
                class="px-4 py-2 rounded-lg bg-gray-900 text-white shadow hover:bg-gray-700 transition">
            ðŸŒ™ Dark Mode
        </button>
    </div>

    <!-- Card Login -->
    <div id="loginCard" class="fade-in bg-white shadow-xl rounded-2xl p-8 w-full max-w-sm transition">
        <h1 class="text-3xl font-bold text-center mb-6">Private Drive</h1>

        <form action="login.php" method="POST" class="flex flex-col gap-4">
            <input type="text" name="username"
                   class="px-4 py-3 rounded-lg border focus:ring w-full text-black transition"
                   placeholder="Username" required>

            <input type="password" name="password"
                   class="px-4 py-3 rounded-lg border focus:ring w-full text-black transition"
                   placeholder="Password" required>

            <button type="submit"
                    class="w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
                Login
            </button>
        </form>

        <p class="text-center text-gray-500 text-sm mt-4">
            Â© <?php echo date('Y'); ?> Private Drive
        </p>
    </div>

<script>
function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");
    const card = document.getElementById("loginCard");
    const inputs = document.querySelectorAll("input");

    card.classList.toggle("dark-card");

    inputs.forEach(i => i.classList.toggle("dark-input"));
}
</script>

</body>
</html>
